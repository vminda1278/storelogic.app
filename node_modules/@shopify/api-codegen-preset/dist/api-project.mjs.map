{"version":3,"file":"api-project.mjs","sources":["../src/api-project.ts"],"sourcesContent":["import fs from 'fs';\n\nimport {pluckConfig} from '@shopify/graphql-codegen';\nimport type {IGraphQLProject, SchemaPointer} from 'graphql-config';\n\nimport {type ShopifyApiProjectOptions} from './types';\nimport {shopifyApiTypes} from './api-types';\nimport {getSchemaData} from './helpers/get-schema-data';\n\nexport const shopifyApiProject = ({\n  apiType,\n  apiVersion,\n  module,\n  outputDir = '.',\n  documents = ['**/*.{ts,tsx}', '!node_modules'],\n  declarations = true,\n  apiKey,\n  enumsAsConst,\n}: ShopifyApiProjectOptions): IGraphQLProject => {\n  const {schema, schemaFile} = getSchemaData(outputDir, apiType, {\n    apiVersion,\n    apiKey,\n  });\n\n  const schemaFileExists = fs.existsSync(`${schemaFile}`);\n\n  return {\n    schema: schemaFileExists ? schemaFile : (schema as SchemaPointer),\n    documents,\n    extensions: {\n      codegen: {\n        pluckConfig,\n        generates: shopifyApiTypes({\n          apiType,\n          apiVersion,\n          apiKey,\n          outputDir,\n          documents,\n          module,\n          declarations,\n          enumsAsConst,\n        }),\n      },\n    },\n  };\n};\n"],"names":[],"mappings":";;;;;AASO,MAAM,iBAAiB,GAAG,CAAC,EAChC,OAAO,EACP,UAAU,EACV,MAAM,EACN,SAAS,GAAG,GAAG,EACf,SAAS,GAAG,CAAC,eAAe,EAAE,eAAe,CAAC,EAC9C,YAAY,GAAG,IAAI,EACnB,MAAM,EACN,YAAY,GACa,KAAqB;IAC9C,MAAM,EAAC,MAAM,EAAE,UAAU,EAAC,GAAG,aAAa,CAAC,SAAS,EAAE,OAAO,EAAE;QAC7D,UAAU;QACV,MAAM;AACP,KAAA,CAAC;IAEF,MAAM,gBAAgB,GAAG,EAAE,CAAC,UAAU,CAAC,CAAA,EAAG,UAAU,CAAA,CAAE,CAAC;IAEvD,OAAO;QACL,MAAM,EAAE,gBAAgB,GAAG,UAAU,GAAI,MAAwB;QACjE,SAAS;AACT,QAAA,UAAU,EAAE;AACV,YAAA,OAAO,EAAE;gBACP,WAAW;gBACX,SAAS,EAAE,eAAe,CAAC;oBACzB,OAAO;oBACP,UAAU;oBACV,MAAM;oBACN,SAAS;oBACT,SAAS;oBACT,MAAM;oBACN,YAAY;oBACZ,YAAY;iBACb,CAAC;AACH,aAAA;AACF,SAAA;KACF;AACH;;;;"}